"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{20182:function(e,i,s){s.r(i);var r=s(57437),t=s(2265),l=s(41448),n=s.n(l),a=s(35231),d=s(92566),o=s(54142),c=s(2842),u=s(9542),h=s(85475),x=s(20153),m=s(16638),j=s(83719),Z=s(79617),b=s(51847),p=s(33578),f=s(92674),g=s(28027),v=s(86645),y=s(74691),_=s(87116),R=s(16351),q=s(68884),A=s(17156),D=s(28549),F=s(56065),N=s(6704),S=s(16557),P=s(85040),k=s(97183),T=s(81222),C=s(62900),w=s(17260);let K=e=>null!=e?e.toFixed(2):"N/A",M=e=>e<.05?"#FF0000":"#8884d8",B=e=>{let{active:i,payload:s,label:t,selectedData:l}=e;if(i&&s&&s.length){let e=s[0].value,i=null==l?void 0:l.p_value,n="number"==typeof i?i:null,a=null!==n&&n<.05,d=a?"Significant differential of ".concat(e.toFixed(2)," indicating a strong impact."):null!==n?"Differential of ".concat(e.toFixed(2)," is not statistically significant."):"Differential: ".concat(e.toFixed(2));return(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"10px",border:"1px solid #ccc"},children:[(0,r.jsx)(j.Z,{variant:"subtitle2",children:"Date: ".concat(t)}),(0,r.jsx)(j.Z,{variant:"body2",children:"Differential: ".concat(e.toFixed(2))}),null!==n&&(0,r.jsx)(j.Z,{variant:"body2",color:a?"error":"textSecondary",children:d})]})}return null};B.propTypes={active:n().bool,payload:n().array,label:n().string,selectedData:n().object};let V=t.memo(e=>{let{data:i,commodity:s,regime:l,combinedMarketDates:n}=e,[V,I]=(0,t.useState)(0),[O,E]=(0,t.useState)(0),W=(0,t.useMemo)(()=>i&&Array.isArray(i.commodity_results)?i.commodity_results.map((e,i)=>({id:i,label:e.other_market})):(console.error("Invalid data structure:",i),[]),[i]);(0,t.useEffect)(()=>{console.log("Data passed to PriceDifferentialsChart:",i),console.log("Market pairs available:",W),W.length>0&&I(0)},[W,i]);let H=(0,t.useMemo)(()=>{if(!i||!Array.isArray(i.commodity_results)||null===V||V>=i.commodity_results.length)return[];let e=i.commodity_results[V];return(console.log("Selected pair data:",e),e&&Array.isArray(e.price_differential))?e.price_differential.map((e,i)=>({date:n[i]||"Period ".concat(i+1),differential:Number(e.toFixed(2))})):[]},[i,V,n]),z=(0,t.useMemo)(()=>i&&Array.isArray(i.commodity_results)&&null!==V&&!(V>=i.commodity_results.length)?i.commodity_results[V]:null,[i,V]),J=(0,t.useCallback)(e=>{let i=e.target.value;console.log("Pair changed to:",i),I(i)},[]),L=(0,t.useCallback)((e,i)=>{E(i)},[]);return i&&Array.isArray(i.commodity_results)&&0!==i.commodity_results.length?(0,r.jsxs)(A.Z,{sx:{width:"100%"},children:[(0,r.jsxs)(j.Z,{variant:"h6",gutterBottom:!0,children:["Price Differentials Results for ",s," in ",l," (Base Market:"," ",i.base_market,")"]}),(0,r.jsxs)(D.Z,{fullWidth:!0,margin:"normal",children:[(0,r.jsx)(F.Z,{id:"pair-select-label",children:"Select Comparison Market"}),(0,r.jsx)(N.Z,{labelId:"pair-select-label",value:V,onChange:J,label:"Select Comparison Market",children:W.map(e=>(0,r.jsx)(S.Z,{value:e.id,children:e.label},e.id))})]}),(0,r.jsxs)(P.Z,{value:O,onChange:L,centered:!0,children:[(0,r.jsx)(k.Z,{label:"Price Differential Chart"}),(0,r.jsx)(k.Z,{label:"Model Diagnostics"})]}),0===O&&(0,r.jsx)(a.h,{width:"100%",height:400,children:(0,r.jsxs)(d.w,{data:H,children:[(0,r.jsx)(o.q,{strokeDasharray:"3 3"}),(0,r.jsx)(c.K,{dataKey:"date",angle:-45,textAnchor:"end",height:70,interval:0,tick:{fontSize:12}}),(0,r.jsx)(u.B,{label:{value:"Price Differential",angle:-90,position:"insideLeft"},allowDecimals:!0}),(0,r.jsx)(h.u,{content:(0,r.jsx)(B,{selectedData:z})}),(0,r.jsx)(x.D,{}),(0,r.jsx)(m.x,{type:"monotone",dataKey:"differential",stroke:M(null==z?void 0:z.p_value),name:"Price Differential",strokeWidth:2})]})}),1===O&&(()=>{var e,s,t,l,n,a;let{model_results:d}=i;return d&&d.regression&&d.diagnostics?(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(b.Z,{expandIcon:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(j.Z,{children:"Model Results"})}),(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(j.Z,{variant:"h6",gutterBottom:!0,children:"Regression Coefficients"}),(0,r.jsx)(f.Z,{component:g.Z,children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Variable"}),(0,r.jsx)(R.Z,{children:"Coefficient"}),(0,r.jsx)(R.Z,{children:"Std. Error"}),(0,r.jsx)(R.Z,{children:"t-statistic"}),(0,r.jsx)(R.Z,{children:"p-value"})]})}),(0,r.jsx)(q.Z,{children:d.regression.coefficients&&Object.entries(d.regression.coefficients).map(e=>{let[i,s]=e;return(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:i}),(0,r.jsx)(R.Z,{children:Number(s).toFixed(2)}),(0,r.jsx)(R.Z,{children:Number(d.regression.std_errors[i]).toFixed(2)}),(0,r.jsx)(R.Z,{children:Number(d.regression.t_statistics[i]).toFixed(2)}),(0,r.jsx)(R.Z,{children:void 0!==d.regression.p_values[i]?Number(d.regression.p_values[i]).toFixed(2):"N/A"})]},i)})})]})}),(0,r.jsx)(j.Z,{variant:"h6",gutterBottom:!0,style:{marginTop:"20px"},children:"Diagnostic Tests"}),(0,r.jsx)(f.Z,{component:g.Z,children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Test"}),(0,r.jsx)(R.Z,{children:"Statistic"}),(0,r.jsx)(R.Z,{children:"P-Value"}),(0,r.jsx)(R.Z,{children:"Result"})]})}),(0,r.jsxs)(q.Z,{children:[(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Breusch-Pagan Test"}),(0,r.jsx)(R.Z,{children:K(null===(e=d.diagnostics.breuschPaganTest)||void 0===e?void 0:e.statistic)}),(0,r.jsx)(R.Z,{children:K(null===(s=d.diagnostics.breuschPaganTest)||void 0===s?void 0:s.pValue)}),(0,r.jsx)(R.Z,{children:(null===(t=d.diagnostics.breuschPaganTest)||void 0===t?void 0:t.pValue)<.05?"Heteroscedasticity":"Homoscedasticity"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Durbin-Watson Statistic"}),(0,r.jsx)(R.Z,{children:K(d.diagnostics.durbin_watson)}),(0,r.jsx)(R.Z,{children:"-"}),(0,r.jsx)(R.Z,{children:d.diagnostics.durbin_watson<2?"Positive Autocorrelation":"No Autocorrelation"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Normality Test (Jarque-Bera)"}),(0,r.jsx)(R.Z,{children:K(null===(l=d.diagnostics.normalityTest)||void 0===l?void 0:l.statistic)}),(0,r.jsx)(R.Z,{children:K(null===(n=d.diagnostics.normalityTest)||void 0===n?void 0:n.pValue)}),(0,r.jsx)(R.Z,{children:(null===(a=d.diagnostics.normalityTest)||void 0===a?void 0:a.pValue)<.05?"Non-Normal Residuals":"Normal Residuals"})]})]})]})})]})]}):(0,r.jsx)(j.Z,{children:"No model results available."})})(),null!==V&&(()=>{if(!z)return null;let{conflict_correlation:e,common_dates:i,distance:s,stationarity:t,p_value:l}=z,n="number"==typeof l?l:null,a=null!==n&&n<.05,d=a?"The price differential is statistically significant (p-value: ".concat(n.toFixed(2),"), indicating a strong impact."):null!==n?"The price differential is not statistically significant (p-value: ".concat(n.toFixed(2),"), suggesting a weak or negligible impact."):"P-value not available.";return(0,r.jsxs)(A.Z,{mt:4,children:[(0,r.jsx)(j.Z,{variant:"h6",gutterBottom:!0,children:"Market Pair Information"}),(0,r.jsx)(f.Z,{component:g.Z,children:(0,r.jsx)(v.Z,{children:(0,r.jsxs)(q.Z,{children:[(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Conflict Correlation"}),(0,r.jsx)(R.Z,{children:void 0!==e?Number(e).toFixed(2):"N/A"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Common Dates"}),(0,r.jsx)(R.Z,{children:void 0!==i?i:"N/A"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"Distance"}),(0,r.jsx)(R.Z,{children:void 0!==s?"".concat(Number(s).toFixed(2)," km"):"N/A"})]}),(null==t?void 0:t.ADF)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"ADF Test Statistic"}),(0,r.jsx)(R.Z,{children:void 0!==t.ADF.statistic?Number(t.ADF.statistic).toFixed(2):"N/A"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"ADF p-value"}),(0,r.jsx)(R.Z,{children:void 0!==t.ADF["p-value"]?Number(t.ADF["p-value"]).toFixed(2):"N/A"})]})]}),(null==t?void 0:t.KPSS)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"KPSS Test Statistic"}),(0,r.jsx)(R.Z,{children:void 0!==t.KPSS.statistic?Number(t.KPSS.statistic).toFixed(2):"N/A"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(R.Z,{children:"KPSS p-value"}),(0,r.jsx)(R.Z,{children:void 0!==t.KPSS["p-value"]?Number(t.KPSS["p-value"]).toFixed(2):"N/A"})]})]})]})})}),(0,r.jsxs)(A.Z,{mt:2,display:"flex",alignItems:"center",children:[a?(0,r.jsx)(C.Z,{color:"error"}):(0,r.jsx)(w.Z,{color:"primary"}),(0,r.jsx)(j.Z,{variant:"body1",ml:1,color:a?"error":"textSecondary",children:d})]})]})})()]}):(0,r.jsx)(j.Z,{children:"No price differential data available for the selected commodity and regime."})});V.displayName="PriceDifferentialsChart",V.propTypes={data:n().shape({regime:n().string.isRequired,base_market:n().string.isRequired,commodity_results:n().arrayOf(n().shape({other_market:n().string.isRequired,price_differential:n().arrayOf(n().number).isRequired,stationarity:n().shape({ADF:n().shape({statistic:n().number,"p-value":n().number}),KPSS:n().shape({statistic:n().number,"p-value":n().number})}),conflict_correlation:n().number,common_dates:n().number,distance:n().number,p_value:n().number})).isRequired,model_results:n().shape({regression:n().shape({coefficients:n().object.isRequired,std_errors:n().object.isRequired,t_statistics:n().object.isRequired,p_values:n().object.isRequired,r_squared:n().number.isRequired,adj_r_squared:n().number.isRequired,f_statistic:n().number.isRequired,f_pvalue:n().number.isRequired,aic:n().number.isRequired,bic:n().number.isRequired,log_likelihood:n().number.isRequired}).isRequired,diagnostics:n().shape({vif:n().arrayOf(n().object).isRequired,breuschPaganTest:n().shape({statistic:n().number,pValue:n().number}).isRequired,durbin_watson:n().number.isRequired,normalityTest:n().shape({statistic:n().number,pValue:n().number}).isRequired}).isRequired})}).isRequired,commodity:n().string.isRequired,regime:n().string.isRequired,combinedMarketDates:n().arrayOf(n().string).isRequired},i.default=V}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{44341:function(e,a,t){t.r(a);var s=t(57437),l=t(2265),i=t(85040),n=t(97183),r=t(17156),o=t(17398);let c=l.lazy(()=>t.e(937).then(t.bind(t,2937))),d=l.lazy(()=>Promise.all([t.e(733),t.e(212),t.e(901)]).then(t.bind(t,69901))),h=l.lazy(()=>Promise.all([t.e(123),t.e(353)]).then(t.bind(t,74353)));a.default=e=>{let{data:a}=e,[t,p]=(0,l.useState)(a),[g,u]=(0,l.useState)(null),[f,k]=(0,l.useState)(0),[b,j]=(0,l.useState)(!a),[v,x]=(0,l.useState)(null);return((0,l.useEffect)(()=>{a||(console.log("SpatialResults component mounted. Fetching spatial data..."),(async()=>{try{j(!0);let e=await (0,o.vy)();console.log("Spatial data fetched successfully:",e),p(e)}catch(e){console.error("Error loading spatial data:",e),x("Failed to load spatial data. Please try again later.")}finally{j(!1)}})())},[a]),b)?(console.log("Rendering loading state..."),(0,s.jsx)("div",{children:"Loading spatial data..."})):v?(console.log("Rendering error state:",v),(0,s.jsxs)("div",{children:["Error: ",v]})):t?(console.log("Rendering SpatialResults component with data:",t),(0,s.jsxs)("div",{className:"spatial-results",children:[(0,s.jsxs)(i.Z,{value:f,onChange:(e,a)=>{console.log("Active tab changed to:",a),k(a)},variant:"fullWidth","aria-label":"Spatial Analysis Tabs",children:[(0,s.jsx)(n.Z,{label:"Choropleth Map"}),(0,s.jsx)(n.Z,{label:"Flow Map"}),(0,s.jsx)(n.Z,{label:"Market Connectivity Graph"})]}),(0,s.jsxs)(r.Z,{mt:2,children:[0===f&&(0,s.jsx)(l.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading Choropleth Map..."}),children:(0,s.jsx)(c,{data:t.averagePrices,onRegionSelect:e=>{console.log("Selected market:",e),u(e)},title:"Price Differentials Across Regions",description:"This map highlights regions with high price differentials. Darker colors indicate larger price differences from the national average."})}),1===f&&(0,s.jsx)(l.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading Flow Map..."}),children:(0,s.jsx)(d,{data:t.flowMaps,selectedMarket:g,title:"Price Transmission Between Markets",description:"Arrows show the direction and strength of price transmission between markets. Thicker arrows indicate stronger price relationships."})}),2===f&&(0,s.jsx)(l.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading Market Connectivity Graph..."}),children:(0,s.jsx)(h,{data:t.spatialWeights,selectedMarket:g,title:"Market Connectivity Network",description:"This graph showcases the spatial dependence between markets. Closer and more connected nodes indicate stronger market integration."})})]})]})):(console.log("No spatial data available. Rendering null."),null)}}}]);